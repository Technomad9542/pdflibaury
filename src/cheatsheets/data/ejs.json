{
  "id": "ejs",
  "title": "EJS",
  "intro": "EJS(Embedded JavaScript) is a simple templating language that lets you generate HTML markup with plain JavaScript.",
  "tags": [
    "EJS",
    "Frontend",
    "Framework"
  ],
  "categories": [
    "Programming"
  ],
  "background": "bg-[#b4ca65]",
  "content": "<!-- NOTE: EJS does not have Prettier support, so manually format and add a prettier-ignore above broken code blocks -->\n\n## Get Started { .cols-3 }\n\n### Hello world\n\n#### install\n\n```shell\n$ npm install ejs\n```\n\n#### hello.ejs\n\n<!-- prettier-ignore -->\n```html\n<% if (user.email) { %>\n  <h1><%= user.email %></h1>\n<% } %>\n```\n\n#### CLI\n\n```shell\n$ ejs hello.ejs -o hello.html\n```\n\n### Render with Data\n\n```js\nlet ejs = require('ejs');\n\nlet people = ['geddy', 'neil', 'alex'];\nlet tpl = '<%= people.join(\", \"); %>';\n\nlet html = ejs.render(tpl, { people: people });\nconsole.log(html);\n```\n\nPass EJS a template string and some data.\n\n### Browser Support\n\n```html\n<script src=\"https://unpkg.com/ejs\"></script>\n<script>\n  let people = ['geddy', 'neil', 'alex'];\n  let html = ejs.render('<%= people.join(\", \"); %>', { people: people });\n  console.log(html);\n</script>\n```\n\nUse ejs in a script tag.\n\n### Variables\n\n|              |                                  |\n| ------------ | -------------------------------- |\n| `<%= var %>` | Prints the value of the variable |\n| `<%- var %>` | Prints without HTML escaping     |\n\n### CLI\n\nRender and specify an output file.\n\n```shell\n$ ejs hello.ejs -o hello.html\n```\n\nFeed it a template file and a data file\n\n```shell\n$ ejs hello.ejs -f data.json -o hello.html\n```\n\n### Comments\n\n```html\n<%# This line will denote a comment %>\n```\n\n---\n\n<!-- prettier-ignore -->\n```html\n<%# This is a multi-line EJS comment.\n    It can span multiple lines,\n    but will not be displayed\n    in the final HTML output.\n%>\n```\n\n### Method {.col-span-2}\n\n```js\nlet ejs = require('ejs');\nlet template = ejs.compile(str, options);\n\ntemplate(data);\n// => Rendered HTML string\n\nejs.render(str, data, options);\n// => Rendered HTML string\n\nejs.renderFile(filename, data, options, function (err, str) {\n  // str => Rendered HTML string\n});\n```\n\n### Including Files\n\n```html\n<%- include('partials/navbar.ejs') %>\n```\n\nInclude a template with data:\n\n```html\n<% include('header', { title: 'My Page' }) %>\n```\n\n---\n\n<!-- prettier-ignore -->\n```html\n<ul>\n  <% users.forEach(function(user){ %>\n    <%- include('item', {user: user}); %>\n  <% }); %>\n</ul>\n```\n\nTo include a template, needs a file name option, paths are relative\n\n## Docs {.cols-3}\n\n### Conditionals\n\n<!-- prettier-ignore -->\n```html\n<% if (userLoggedIn) { %>\n  <p>Welcome, <%= username %>!</p>\n<% } else { %>\n  <p>Please log in.</p>\n<% } %>\n```\n\n### Using loops\n\n<!-- prettier-ignore -->\n```html\n<ul>\n  <% for(i=0; i < users.length; i++) { %>\n    <li><%= users[i].username %></li>\n  <% } %>\n</ul>\n```\n\n### Custom delimiters\n\n```js\nlet ejs = require('ejs'),\n  users = ['geddy', 'neil', 'alex'];\n\n// Just one template\nejs.render('<?= users.join(\" | \"); ?>', { users: users }, { delimiter: '?' });\n// => 'geddy | neil | alex'\n\n// Or globally\nejs.delimiter = '$';\nejs.render('<$= users.join(\" | \"); $>', { users: users });\n// => 'geddy | neil | alex'\n```\n\n### Caching\n\n```js\nlet ejs = require('ejs'),\n  LRU = require('lru-cache');\n\n// LRU cache with 100-item limit\nejs.cache = LRU(100);\n```\n\n### Custom file loader\n\n```js\nlet ejs = require('ejs');\nlet myFileLoader = function (filePath) {\n  return 'myFileLoader: ' + fs.readFileSync(filePath);\n};\n\nejs.fileLoader = myFileLoader;\n```\n\n### Layouts\n\n<!-- prettier-ignore -->\n```html\n<%- include('header'); -%>\n<h1>\n  Title\n</h1>\n<p>\n  My page\n</p>\n<%- include('footer'); -%>\n```\n\n## Client-side support {.cols-2}\n\n### Example\n\n```html\n<div id=\"output\"></div>\n<script src=\"ejs.min.js\"></script>\n<script>\n  let people = ['geddy', 'neil', 'alex'],\n    html = ejs.render('<%= people.join(\", \"); %>', { people: people });\n  // With jQuery:\n  $('#output').html(html);\n  // Vanilla JS:\n  document.getElementById('output').innerHTML = html;\n</script>\n```\n\n### Caveats\n\n```js\nlet str = \"Hello <%= include('file', {person: 'John'}); %>\",\n  fn = ejs.compile(str, { client: true });\n\n// include callback\nfn(data, null, function (path, d) {\n  // path -> 'file'\n  // d -> {person: 'John'}\n  // Put your code here\n  // Return the contents of file as a string\n}); // returns rendered string\n```\n\n## Options {.cols-1}\n\n### Options list\n\n| Option             | Description                                                                                                                                                                                                                   |\n| ------------------ | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| cache              | Compiled functions are cached, requires filename                                                                                                                                                                              |\n| filename           | Used by cache to key caches, and for includes                                                                                                                                                                                 |\n| root               | Set project root for includes with an absolute path (e.g. `/file.ejs`). Can be an array to try to resolve include from multiple directories.                                                                                  |\n| views              | An array of paths to use when resolving includes with relative paths.                                                                                                                                                         |\n| context            | Function execution context                                                                                                                                                                                                    |\n| compileDebug       | When false, no debug instrumentation is compiled                                                                                                                                                                              |\n| client             | Returns standalone compiled function                                                                                                                                                                                          |\n| delimiter          | Character to use for inner delimiter, by default `%`                                                                                                                                                                          |\n| openDelimiter      | Character to use for opening delimiter, by default `<`                                                                                                                                                                        |\n| closeDelimiter     | Character to use for closing delimiter, by default `>`                                                                                                                                                                        |\n| debug              | Outputs generated function body                                                                                                                                                                                               |\n| strict             | When set to `true`, generated function is in strict mode                                                                                                                                                                      |\n| \\_with             | Whether or not to use with() {} constructs. If `false`, then the locals will be stored in the locals object. (Implies `--strict`)                                                                                             |\n| localsName         | Name to use for the object storing local variables when not using with defaults to `locals`                                                                                                                                   |\n| rmWhitespace       | Remove all safe-to-remove whitespace, including leading and trailing whitespace. It also enables a safer version of `-%> `line slurping for all scriptlet tags (it does not strip new lines of tags in the middle of a line). |\n| escape             | The escaping function used with `<%=` construct. It is used in rendering and is `.toString()`ed in the generation of client functions. (By default escapes XML).                                                              |\n| outputFunctionName | Set to a string (e.g., 'echo' or 'print') for a function to print output inside scriptlet tags.                                                                                                                               |\n| async              | When true, EJS will use an async function for rendering. (Depends on async/await support in the JS runtime.                                                                                                                   |\n\n## Tags {.cols-1}\n\n### Tags list\n\n| Tag               | Description                                                          |\n| ----------------- | :------------------------------------------------------------------- |\n| `<%`              | 'Scriptlet' tag, for control-flow, no output                         |\n| <code><%\\_</code> | 'Whitespace Slurping' Scriptlet tag, strips all whitespace before it |\n| `<%=`             | Outputs the value into the template (HTML escaped)                   |\n| `<%-`             | Outputs the unescaped value into the template                        |\n| `<%#`             | Comment tag, no execution, no output                                 |\n| `<%%`             | Outputs a literal `<%`                                               |\n| `%>`              | Plain ending tag                                                     |\n| `-%>`             | Trim-mode ('newline slurp') tag, trims following newline             |\n| <code>\\_%></code> | 'Whitespace Slurping' ending tag, removes all whitespace after it    |\n\n## CLI {.cols-1}\n\n### CLI list\n\n| Option                               | Description                                                                                 |\n| ------------------------------------ | :------------------------------------------------------------------------------------------ |\n| `cache`                              | Compiled functions are cached, requires filename                                            |\n| `-o` / `--output-file FILE`          | Write the rendered output to FILE rather than stdout.                                       |\n| `-f` / `--data-file FILE`            | Must be JSON-formatted. Use parsed input from FILE as data for rendering.                   |\n| `-i` / `--data-input STRING`         | Must be JSON-formatted and URI-encoded. Use parsed input from STRING as data for rendering. |\n| `-m` / `--delimiter CHARACTER`       | Use CHARACTER with angle brackets for open/close (defaults to %).                           |\n| `-p` / `--open-delimiter CHARACTER`  | Use CHARACTER instead of left angle bracket to open.                                        |\n| `-c` / `--close-delimiter CHARACTER` | Use CHARACTER instead of right angle bracket to close.                                      |\n| `-s` / `--strict`                    | When set to `true`, generated function is in strict mode                                    |\n| `-n` / `--no-with`                   | Use `locals` object for vars rather than using `with` (implies --strict).                   |\n| `-l` / `--locals-name`               | Name to use for the object storing local variables when not using `with`.                   |\n| `-w` / `--rm-whitespace`             | Remove all safe-to-remove whitespace, including leading and trailing whitespace.            |\n| `-d` / `--debug`                     | Outputs generated function body                                                             |\n| `-h` / `--help`                      | Display this help message.                                                                  |\n| `-V` / `-v` / `--version`            | Display the EJS version.                                                                    |\n\nExamples of use :\n\n```shell\n$ ejs -p [ -c ] ./template_file.ejs -o ./output.html\n$ ejs ./test/fixtures/user.ejs name=Lerxst\n$ ejs -n -l _ ./some_template.ejs -f ./data_file.json\n```\n"
}